# Application
spring.application.name=Online-Food-Order-Service
server.port=8083

# Datasource (MySQL)
spring.datasource.url=jdbc:mysql://localhost:3306/kodewala_30th_june
spring.datasource.username=root
spring.datasource.password=Hackerbubai007#
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# JPA / Hibernate
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.database-platform=org.hibernate.dialect.MySQLDialect

# ===============================
# ZIPKIN + MICROMETER TRACING
# ===============================
# Use micrometer tracing with Brave bridge + Zipkin reporter (ensure dependencies added)
management.tracing.exporter.zipkin.enabled=true
management.tracing.exporter.zipkin.endpoint=http://localhost:9411/api/v2/spans
management.tracing.sampling.probability=1.0

# Legacy Spring Cloud Sleuth (only if using older sleuth starters; leave commented if not used)
# spring.zipkin.base-url=http://localhost:9411/
# spring.sleuth.sampler.probability=1.0

# ===============================
# FEIGN CIRCUIT BREAKER
# ===============================
feign.circuitbreaker.enabled=true

# ===============================
# ACTUATOR ENDPOINTS
# ===============================
management.endpoints.web.exposure.include=*

# ===============================
# LOGGING
# ===============================
# Include traceId/spanId in logs
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %5p [%X{traceId},%X{spanId}] %logger{36} - %msg%n

# Enable debug logging for tracing/zipkin while testing
logging.level.io.zipkin.reporter2=DEBUG
logging.level.brave=DEBUG
logging.level.org.springframework.web=DEBUG
logging.level.org.springframework.cloud.openfeign=DEBUG
